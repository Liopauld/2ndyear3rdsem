<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>GadgetEssence - Manage Items</title>
    
    <!-- Bootstrap CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
      integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
      crossorigin="anonymous"
    />

    <!-- DataTables CSS -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/datatables/1.10.21/css/dataTables.bootstrap4.min.css"
      integrity="sha512-PT0RvABaDhDQugEbpNMwgYBCnGCiTZMh9yOzUsJHDgl/dMhD9yjHAwoumnUk3JydV3QTcIkNDuN40CJxik5+WQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    
    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      crossorigin="anonymous"
    />
    
    <!-- DataTables Buttons CSS -->
    <link
      href="https://cdn.datatables.net/buttons/2.3.5/css/buttons.dataTables.min.css"
      rel="stylesheet"
    />

    <!-- SweetAlert2 CSS -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/sweetalert2/11.16.1/sweetalert2.css"
      integrity="sha512-fjO3Vy3QodX9c6G9AUmr6WuIaEPdGRxBjD7gjatG5gGylzYyrEq3U0q+smkG6CwIY0L8XALRFHh4KPHig0Q1ug=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/style.css" />
    
    <!-- jQuery -->
    <script
      src="https://code.jquery.com/jquery-3.6.4.min.js"
      integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8="
      crossorigin="anonymous"
    ></script>
    
    <!-- Bootstrap JS -->
    <script
      src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
      integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
      integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
      crossorigin="anonymous"
    ></script>
    
    <!-- DataTables JS -->
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/datatables/1.10.21/js/jquery.dataTables.min.js"
      integrity="sha512-BkpSL20WETFylMrcirBahHfSnY++H2O1W+UnEEO4yNIl+jI2+zowyoGJpbtk6bx97fBXf++WJHSSK2MV4ghPcg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <script
      type="text/javascript"
      src="https://cdn.datatables.net/1.10.22/js/dataTables.bootstrap4.min.js"
    ></script>
    <script
      type="text/javascript"
      src="https://cdn.datatables.net/buttons/1.6.5/js/dataTables.buttons.min.js"
    ></script>
    <script
      type="text/javascript"
      src="https://cdn.datatables.net/buttons/1.6.5/js/buttons.bootstrap4.min.js"
    ></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.32/vfs_fonts.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.3.5/js/buttons.html5.min.js"></script>

    <!-- Bootbox JS -->
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/bootbox.js/5.5.2/bootbox.min.js"
      integrity="sha512-RdSPYh1WA6BF0RhpisYJVYkOyTzK4HwofJ3Q7ivt/jkpW6Vc8AurL1R+4AUcvn9IwEKAPm/fk7qFZW3OuiUDeg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    
    <!-- SweetAlert2 JS -->
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert2/11.16.1/sweetalert2.min.js"
      integrity="sha512-LGHBR+kJ5jZSIzhhdfytPoEHzgaYuTRifq9g5l6ja6/k9NAOsAi5dQh4zQF6JIRB8cAYxTRedERUF+97/KuivQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>

    <!-- Custom JS -->
    <script src="js/item.js"></script>
  </head>

  <body>
    <div id="header"></div>
    <script>
      $("#header").load("header.html", function() {
        if (!sessionStorage.getItem('userId')) {
          // Hide Profile menu if not logged in
          $('a.nav-link[href="profile.html"]').closest('.nav-item').hide();
          // Show Register and Login
          $('a.nav-link[href="register.html"]').closest('.nav-item').show();
          $('a.nav-link[href="login.html"]').closest('.nav-item').show();
        } else {
          // If logged in, show Profile, hide Register, change Login to Logout
          $('a.nav-link[href="profile.html"]').closest('.nav-item').show();
          $('a.nav-link[href="register.html"]').closest('.nav-item').hide();
          const $loginLink = $('a.nav-link[href="login.html"]');
          $loginLink.text('Logout').attr({ 'href': '#', 'id': 'logout-link' }).on('click', function (e) {
            e.preventDefault();
            sessionStorage.clear();
            window.location.href = 'login.html';
          });
        }
      });
    </script>
    
    <div class="container gadget-admin-container" id="adminItemsContainer">
      <h1 class="mb-4 gadget-admin-title">
        <i class="fas fa-microchip" style="color: #00d4ff; margin-right: 15px;"></i>
        Manage Items
        <small class="d-block" style="font-size: 0.6em; color: #7f8c8d; margin-top: 5px;">Admin - Electronics & Gadgets Inventory</small>
      </h1>
      
      <!-- Add Item Button Section -->
      <div class="row mb-4">
        <div class="col-12">
          <div class="gadget-admin-actions-bar">
            <button type="button" class="btn gadget-btn-add-item" data-toggle="modal" data-target="#itemModal" id="addItemBtn">
              <i class="fas fa-plus-circle me-2"></i>
              <span class="btn-text">Add New Item</span>
              <div class="btn-ripple"></div>
            </button>
            <div class="gadget-export-actions">
              <button type="button" class="btn gadget-btn-export" id="exportItemsPDF">
                <i class="fas fa-file-pdf me-2"></i>
                Export PDF
              </button>
              <button type="button" class="btn gadget-btn-export" id="exportItemsExcel">
                <i class="fas fa-file-excel me-2"></i>
                Export Excel
              </button>
            </div>
          </div>
        </div>
      </div>

      
      <div class="gadget-admin-table-container">
        <div class="table-responsive">
          <table id="itable" class="table table-hover gadget-admin-table">
            <thead>
              <tr>
                <th><i class="fas fa-hashtag"></i> ID</th>
                <th><i class="fas fa-tag"></i> Name</th>
                <th><i class="fas fa-list"></i> Category</th>
                <th><i class="fas fa-images"></i> Images</th>
                <th><i class="fas fa-info-circle"></i> Description</th>
                <th><i class="fas fa-peso-sign"></i> Sell Price</th>
                <th><i class="fas fa-money-bill"></i> Cost Price</th>
                <th><i class="fas fa-eye"></i> Show Item</th>
                <th><i class="fas fa-boxes"></i> Quantity</th>
                <th><i class="fas fa-cogs"></i> Action</th>
              </tr>
            </thead>
            <tbody id="ibody"></tbody>
          </table>
        </div>
      </div>
    </div>
    <div class="modal fade gadget-modal" id="itemModal" role="dialog" style="display: none">
      <div class="modal-dialog modal-lg">
        <div class="modal-content gadget-modal-content">
          <div class="modal-header gadget-modal-header">
            <h4 class="modal-title" id="itemModalTitle">
              <i class="fas fa-microchip"></i> Create New Item
            </h4>
            <button type="button" class="close gadget-modal-close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body gadget-modal-body">
            <form id="iform" class="gadget-form">
              <div class="row">
                <div class="col-md-6">
                  <div class="form-group">
                    <label for="name" class="control-label gadget-label">
                      <i class="fas fa-tag"></i> Product Name
                    </label>
                    <input
                      type="text"
                      class="form-control gadget-input"
                      id="name"
                      name="name"
                      placeholder="Enter product name"
                      required
                    />
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="form-group">
                    <label for="category" class="control-label gadget-label">
                      <i class="fas fa-list"></i> Category
                    </label>
                    <select
                      class="form-control gadget-select"
                      id="category"
                      name="category"
                      required
                      style="height: 45px; padding: 8px 12px;"
                    >
                      <option value="">Select Category</option>
                      <option value="Smart Home Devices">Smart Home Devices</option>
                      <option value="Mobile & Wearable Tech">Mobile & Wearable Tech</option>
                      <option value="Computers & Peripherals">Computers & Peripherals</option>
                      <option value="Gaming & VR Gear">Gaming & VR Gear</option>
                      <option value="Audio & Entertainment Devices">Audio & Entertainment Devices</option>
                    </select>
                  </div>
                </div>
              </div>
              
              <div class="form-group">
                <label for="desc" class="control-label gadget-label">
                  <i class="fas fa-info-circle"></i> Description
                </label>
                <textarea
                  class="form-control gadget-textarea"
                  id="desc"
                  name="description"
                  rows="3"
                  placeholder="Enter product description"
                  required
                ></textarea>
              </div>
              
              <div class="row">
                <div class="col-md-4">
                  <div class="form-group">
                    <label for="cost" class="control-label gadget-label">
                      <i class="fas fa-money-bill"></i> Cost Price (₱)
                    </label>
                    <input
                      type="number"
                      step="0.01"
                      class="form-control gadget-input"
                      id="cost"
                      name="cost_price"
                      placeholder="0.00"
                    />
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="form-group">
                    <label for="sell" class="control-label gadget-label">
                      <i class="fas fa-peso-sign"></i> Sell Price (₱)
                    </label>
                    <input
                      type="number"
                      step="0.01"
                      class="form-control gadget-input"
                      id="sell"
                      name="sell_price"
                      placeholder="0.00"
                    />
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="form-group">
                    <label for="qty" class="control-label gadget-label">
                      <i class="fas fa-boxes"></i> Quantity
                    </label>
                    <input
                      type="number"
                      class="form-control gadget-input"
                      id="qty"
                      name="quantity"
                      placeholder="0"
                    />
                  </div>
                </div>
              </div>
              
              <div class="row">
                <div class="col-md-6">
                  <div class="form-group">
                    <label for="show_item" class="control-label gadget-label">
                      <i class="fas fa-eye"></i> Show Item
                    </label>
                    <select class="form-control gadget-select" id="show_item" name="show_item" style="height: 45px; padding: 8px 12px;">
                      <option value="yes" selected>Yes - Visible to customers</option>
                      <option value="no">No - Hidden from customers</option>
                    </select>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="form-group">
                    <label for="img" class="control-label gadget-label">
                      <i class="fas fa-images"></i> Product Images
                    </label>
                    <input type="file" class="form-control-file gadget-file" id="img" name="images" multiple accept="image/*" />
                    <small class="form-text text-muted">Select multiple images for this product</small>
                  </div>
                </div>
              </div>
            </form>
          </div>
          <div class="modal-footer gadget-modal-footer">
            <button type="button" class="btn gadget-btn-secondary" data-dismiss="modal">
              <i class="fas fa-times"></i> Cancel
            </button>
            <button id="itemSubmit" type="submit" class="btn gadget-btn-primary">
              <i class="fas fa-save"></i> Save Item
            </button>
            <button id="itemUpdate" type="submit" class="btn gadget-btn-primary" style="display:none;">
              <i class="fas fa-sync-alt"></i> Update Item
            </button>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
